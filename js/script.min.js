$(function(){var f=$.app={},d=0,l,c=false;$("#swipe").swipe();f.addToHomeClosed=function(){$("#getStartedPopup").fadeIn(500)};$("#siriAudio").bind("error",function(r){alert($(this).get(0).error.code)});$.app.swipeRight=function(){h.src="";f.transitionToPage(2)};f.transitionToPage=function(r){d=r;r-=1;$("#main").animate({left:-r*320+"px"},{duration:250})};$("#siriButton").hide();$("#siriMicButton").hide();$("#siriDeadMicButton").click(function(r){$(this).hide();$("#siriMicButton").show();h.play();setTimeout(function(){},3000);setTimeout(function(){$("#siriMicButton").hide();$("#siriButton").show();setTimeout(function(){$("#siriButton").hide();$("#siriMicButton").hide();$("#siriDeadMicButton").show();$("#answerBubble").html(l);$("#answerBubble").show()},3000)},3000)});$("#getStartedPopup").click(function(s){var r=$(this);f.transitionToPage(2)});var h=$("#siriAudio").get(0),b;$(h).bind("progress",function(){var r=parseInt(((h.buffered.end(0)/h.duration)*100),10);if(r==100){console.log("Loaded 100% - Playing");$("#launchsiri").show();$(".spinner").hide();c=true}else{if(r>=0){console.log("Loaded "+r+"%")}}});$("#launchsiri").hide();$("#launchsiri").click(function(){f.transitionToPage(4)});var g=[{question:"Is Santa Claus real?",yes:["snd/a_yes_1.mp3","snd/a_yes_2.mp3","snd/a_yes_3.mp3","snd/a_yes_4.mp3","snd/a_yes_5.mp3"],no:["snd/a_no_1.mp3","snd/a_no_2.mp3","snd/a_no_3.mp3","snd/a_no_4.mp3","snd/a_no_5.mp3"]},{question:"Is Santa bringing what (name) asked for?",yes:["snd/b_yes_1.mp3","snd/b_yes_2.mp3","snd/b_yes_3.mp3","snd/b_yes_4.mp3"],no:["snd/b_no_1.mp3","snd/b_no_2.mp3","snd/b_no_3.mp3","snd/b_no_4.mp3","snd/b_no_5.mp3"]},{question:"Has (name) been naughty or nice?",yes:["snd/c_yes_1.mp3","snd/c_yes_2.mp3","snd/c_yes_3.mp3","snd/c_yes_4.mp3","snd/c_yes_5.mp3"],no:["snd/c_no_1.mp3","snd/c_no_2.mp3","snd/c_no_3.mp3","snd/c_no_4.mp3"]},{question:"When is Santa Coming?",yes:["snd/d_yes_1.mp3","snd/d_yes_2.mp3","snd/d_yes_3.mp3","snd/d_yes_4.mp3","snd/d_yes_5.mp3"],no:["snd/d_no_1.mp3","snd/d_no_2.mp3","snd/d_no_3.mp3","snd/d_no_4.mp3","snd/d_no_5.mp3","snd/d_no_6.mp3"]}];var e=[{yes:["Yes. Santa Claus is very real. And he is watching you through hidden cameras all over your house.","Yes. Santa Claus is a jolly man whose favorite snacks include cookies and warm milk.","Yes. Without Santa Claus there is no Christmas. There will be Christmas, so there is a Santa Claus.","Yes, but Santa Claus only comes when you pick up your toys. He doesn’t like tripping over your toys.","Yes, but only if you pick up your toys. Santa doesn’t want to throw out his back tripping over your toys like last year."],no:["No. Santa Claus is made up. Other made up things include fairies, talking animals and the Gingerbread man.","No and I’m sorry a voice on a phone has to break it to you.","Unlike parents I am not programmed to lie. Santa Claus is not real.","Hmm… this is awkward. No. The answer is no.","The answer is no, but would you like me to lie to you?"]},{yes:["If you wished for nothing then the answer is yes.","Yes. But be careful what you wish for.","I will only say this: Prepare to have your mind blown.","Yes. And I hope Santa Claus brings me a new power cord."],no:["No. You are getting socks.","Santa Claus does not bring what kids want. Only what they deserve.","No. Santa Claus will bring you what he brings you.","Accessing Santa’s records…No. sorry to disappoint you but it’s better that you know now rather than Christmas morning.","No. Santa Claus’s records show that you have enough toys."]},{yes:["Nice. But Santa could do with a little less whining.","Santa thinks you are so nice that you probably don’t want any presents this year.","Nice. Perhaps doing some more chores will make it official.","Nice. Unless you are hiding something. Are you hiding something?","You’ve been very nice this year. But have you done something nice today?"],no:["Naughty. Santa knows about that time you talked back to your parents. ","I have found your name on Santa's \"I'll think about it\" list.","Naughty. But if you clean your room right now, Santa will reconsider it.","Santa thinks you still need to prove that you are nice."]},{yes:["Santa is coming but just to stop by and eat a cookie. He didn’t think you wanted presents.","Santa already came, but your parents gave your toys to the neighbors.","Santa will arrive when he hears you snoring. Yes, you do snore. Very loudly. ","Santa will come after you help wash the dishes.","Santa will come sooner if you brush your teeth well!"],no:["Oh, you wanted Santa to come this year? He thought you didn’t want him to. ","Santa isn’t coming because your messy room scared him away.","Santa isn’t coming because you never play with the toys he got you last year.","Santa isn’t coming this year. Every 2011th year he takes Christmas off.","Santa isn’t coming this year due to the North Pole being occupied.","Oops. Santa thought you were coming to his house this year!"]},];$(".options li").css({cursor:"pointer"});$(".options li").click(function(x){x.preventDefault();
c=false;$("#launchsiri").hide();$(".spinner").show();$("#answerBubble").hide();var t=$(this),u=t.data("answer").toString(),y=t.data("label").toString(),w=parseInt(u.substr(0,1)),v=parseInt(u.substr(2,1)),s=(function(){if(v==0){return g[w].yes}else{if(v==1){return g[w].no}else{if(v==2){return g[w].yes.concat(g[w].no)}}}})();var r=Math.floor(Math.random()*s.length);b=s[r],question=g[w].question;l=(function(){if(v==0){return e[w].yes}else{if(v==1){return e[w].no}else{if(v==2){return e[w].yes.concat(e[w].no)}}}})()[r];$("#answer").html(question);$("#yesNoRand").html("("+y+")");if(h.pause){h.pause()}h.src="";h.src=b;h.load();f.transitionToPage(3)});var a=navigator,m=(/iphone|ipod|ipad/gi).test(a.platform),i=(/ipad/gi).test(a.platform),n="devicePixelRatio" in window&&window.devicePixelRatio>1,k=a.appVersion.match(/Safari/gi),j="standalone" in a&&m,p=j&&a.standalone,o=m||a.userAgent.match(/BlackBerry|Android|WebOs/i);if(!o){var q=document.createElement("link");q.setAttribute("rel","stylesheet");q.setAttribute("type","text/css");q.setAttribute("href","css/desktop.css");document.getElementsByTagName("head")[0].appendChild(q);$("#container").addClass("center");$("#container").addClass("center_body");$("#swipe").hide()}if(!p){$(window).scrollTop(40)}if(p){$("#container").bind("touchmove",function(r){r.preventDefault()})}$("#siriButton").sprite({fps:24,no_of_frames:34});$("#siriMicButton").sprite({fps:24,no_of_frames:36})});